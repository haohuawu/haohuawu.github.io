

<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
  <title>搭建前端开发 Ubuntu 服务器</title>
  <meta name="description" content="下载ISO镜像，刻录U盘访问 Ubuntu 官方镜像列表，目前最新的 LTS Server 版本是16.04，选择 64位 ISO 镜像。
Windows 下可以用 UltraISO 刻录U盘，Mac 用户直接命令行搞起：
1234# 列出当前已挂载的硬盘，找到U盘对应的设备名，以 /dev/disk1 为例diskutil list# 使用 dd 命令刻录 ISO 至U盘，等待刻录完成dd if">
<meta property="og:type" content="article">
<meta property="og:title" content="搭建前端开发 Ubuntu 服务器">
<meta property="og:url" content="https://haohuawu.github.io/2017/03/15/setup-fe-server/index.html">
<meta property="og:site_name" content="天枢">
<meta property="og:description" content="下载ISO镜像，刻录U盘访问 Ubuntu 官方镜像列表，目前最新的 LTS Server 版本是16.04，选择 64位 ISO 镜像。
Windows 下可以用 UltraISO 刻录U盘，Mac 用户直接命令行搞起：
1234# 列出当前已挂载的硬盘，找到U盘对应的设备名，以 /dev/disk1 为例diskutil list# 使用 dd 命令刻录 ISO 至U盘，等待刻录完成dd if">
<meta property="og:updated_time" content="2017-03-25T08:56:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="搭建前端开发 Ubuntu 服务器">
<meta name="twitter:description" content="下载ISO镜像，刻录U盘访问 Ubuntu 官方镜像列表，目前最新的 LTS Server 版本是16.04，选择 64位 ISO 镜像。
Windows 下可以用 UltraISO 刻录U盘，Mac 用户直接命令行搞起：
1234# 列出当前已挂载的硬盘，找到U盘对应的设备名，以 /dev/disk1 为例diskutil list# 使用 dd 命令刻录 ISO 至U盘，等待刻录完成dd if">
  <link rel="stylesheet" href="/blog/styles/main.css">
</head>
  <body>
    <header class="site--header" role="banner">
  <div class="wrapper">
    <a class="site--title" href="/">天枢</a>
    
    <a class="nav-menu" href="javascript: void 0;"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32">
<path fill="#424242" d="M2 6.667h28v3.135h-28v-3.135zM2 17.531v-3.063h28v3.063h-28zM2 25.333v-3.135h28v3.135h-28z"></path>
</svg>
</a>
    
  </div>
</header>

    <main class="site--content" aria-label="Content">
      <div class="wrapper">
        <article
  id="post-setup-fe-server"
  class="post"
  data-layout="post"
  data-site-index="post"
  itemscope
  itemprop="blogPost">
  <!-- title -->
  
  
  
<h1 class="post-title" itemprop="name">
  搭建前端开发 Ubuntu 服务器
</h1>
  

  
  <!-- meta -->
  <div class="post-meta">
  
  <span class="post-date post-meta--item">
  <span class="icon icon---date"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">
<path fill="#828282" d="M14.714 7.049v7.275l6.236 3.703-1.039 1.754-7.275-4.417v-8.315h2.079zM14 25.108c6.106 0 11.108-5.002 11.108-11.108s-5.002-11.108-11.108-11.108-11.108 5.002-11.108 11.108 5.002 11.108 11.108 11.108zM14 0.164c7.665 0 13.836 6.171 13.836 13.836s-6.171 13.836-13.836 13.836-13.836-6.171-13.836-13.836 6.171-13.836 13.836-13.836z"></path>
</svg>
</span>
  <time datetime="2017-03-14T16:00:00.000Z" itemprop="datePublished">2017-03-15</time>
</span>
  
  
<div class="post-tags post-meta--item">
  <span class="icon icon---tag"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">
<path fill="#828282" d="M26.688 0h-10.5c-0.722 0-1.73 0.418-2.241 0.928l-13.019 13.019c-0.51 0.51-0.51 1.346 0 1.856l11.269 11.269c0.51 0.51 1.346 0.51 1.856 0l13.019-13.019c0.51-0.51 0.928-1.519 0.928-2.241v-10.5c0-0.722-0.591-1.313-1.313-1.313zM20.125 10.5c-1.45 0-2.625-1.175-2.625-2.625s1.175-2.625 2.625-2.625 2.625 1.175 2.625 2.625-1.175 2.625-2.625 2.625z"></path>
</svg>
</span>
  <ul class="tag-list"><li class="tag-list--item"><a class="tag-list--link" href="/tags/ubuntu/">#Ubuntu</a></li></ul>
</div>

  

</div>
  <!-- gallery -->
  
  <!-- entry -->
  <main class="post--entry" itemprop="articleBody">
    <h2 id="下载ISO镜像，刻录U盘"><a href="#下载ISO镜像，刻录U盘" class="headerlink" title="下载ISO镜像，刻录U盘"></a>下载ISO镜像，刻录U盘</h2><p>访问 <a href="http://releases.ubuntu.com/16.04/" target="_blank" rel="external">Ubuntu 官方镜像列表</a>，目前最新的 LTS Server 版本是16.04，选择 <a href="http://releases.ubuntu.com/16.04/ubuntu-16.04.2-server-amd64.iso" target="_blank" rel="external">64位 ISO 镜像</a>。</p>
<p>Windows 下可以用 <a href="https://cn.ultraiso.net/" target="_blank" rel="external">UltraISO</a> 刻录U盘，Mac 用户直接命令行搞起：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 列出当前已挂载的硬盘，找到U盘对应的设备名，以 /dev/disk1 为例</span></div><div class="line">diskutil list</div><div class="line"><span class="comment"># 使用 dd 命令刻录 ISO 至U盘，等待刻录完成</span></div><div class="line">dd <span class="keyword">if</span>=~/Downloads/ubuntu-16.04.2-server-amd64.iso of=/dev/disk1 bs=8192</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>如果提示resource busy，则先卸载U盘（插入时已经挂载了），但不要推出，在终端下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">diskutil umountDisk /dev/disk1</div></pre></td></tr></table></figure>
<p>也可以通过“磁盘工具”进行卸载。</p>
<h2 id="安装-Ubuntu-Server，预装-OpenSSH-Server"><a href="#安装-Ubuntu-Server，预装-OpenSSH-Server" class="headerlink" title="安装 Ubuntu Server，预装 OpenSSH Server"></a>安装 Ubuntu Server，预装 OpenSSH Server</h2><p>主机插上U盘，启动时按 <strong>F12</strong> 修改启动顺序为USB，重启即进入系统安装界面（命令行），查看说明一路下一步，中间会提示预装一些环境，根据需要选择就行。这里选择了 OpenSSH Server 和 LAMP（<strong>L</strong>inux <strong>A</strong>pache <strong>M</strong>ySQL <strong>P</strong>HP），前者方便以后远程 ssh 登录管理主机，后者是 Linux 下的后端 PHP 开发套件。</p>
<h2 id="安装-zsh"><a href="#安装-zsh" class="headerlink" title="安装 zsh"></a>安装 zsh</h2><p><code>zsh</code> 全名 Z Shell，是 Bash Shell 的超集，是 Linux 下必备的利器，很好用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 安装之前更新下源列表，保证下载到最新的软件包</span></div><div class="line">sudo apt update</div><div class="line"><span class="comment"># 安装 zsh</span></div><div class="line">sudo apt install zsh</div><div class="line"><span class="comment"># 安装 oh-my-zsh，因为 16.04 版本的 Ubuntu 已经预装了 git，所以可以直接安装</span></div><div class="line">sh -c <span class="string">"<span class="variable">$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)</span>"</span></div><div class="line"><span class="comment"># 设置 zsh 为默认 shell 环境</span></div><div class="line">chsh <span class="_">-s</span> /bin/zsh</div><div class="line"><span class="comment"># 重启系统</span></div><div class="line">sudo reboot</div></pre></td></tr></table></figure>
<h2 id="安装配置-Node-环境"><a href="#安装配置-Node-环境" class="headerlink" title="安装配置 Node 环境"></a>安装配置 Node 环境</h2><p>前端开发必备 Node 环境，由于 Node 发版实在太快，现在最新版本已经是 7.7.3 了，而 LTS 也发布了 v6.10.0 LTS，所以 Node 环境的升级比较麻烦，不过 Linux 下可以通过 <a href="https://github.com/creationix/nvm" target="_blank" rel="external">nvm</a> 管理 Node，同时 nvm 将 Node 安装在当前用户主目录下，不会有权限问题：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># shell 脚本安装</span></div><div class="line">wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.1/install.sh | bash</div><div class="line"><span class="comment"># 更新环境变量或者重新登录</span></div><div class="line"><span class="built_in">source</span> ~/.zshrc</div><div class="line"><span class="comment"># 列出当前所有 Node LTS 版本</span></div><div class="line">nvm ls-remote --lts</div><div class="line"><span class="comment"># 安装最新版本</span></div><div class="line">nvm install 6.10.0</div></pre></td></tr></table></figure>
<h2 id="配置-Ruby-环境"><a href="#配置-Ruby-环境" class="headerlink" title="配置 Ruby 环境"></a>配置 Ruby 环境</h2><p>同上，Ruby 也有版本管理器 <a href="https://rvm.io/" target="_blank" rel="external">rvm</a>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 安装 rvm</span></div><div class="line">gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3</div><div class="line">curl <span class="_">-s</span>SL https://get.rvm.io | bash <span class="_">-s</span> stable</div><div class="line"><span class="comment"># 载入 RVM 环境</span></div><div class="line"><span class="built_in">source</span> ~/.rvm/scripts/rvm</div><div class="line"><span class="comment"># 修改 RVM 下载 Ruby 的源，到 Ruby China 的镜像，国内，你懂的</span></div><div class="line"><span class="built_in">echo</span> <span class="string">"ruby_url=https://cache.ruby-china.org/pub/ruby"</span> &gt; ~/.rvm/user/db</div><div class="line"><span class="comment"># 检查一下是否安装正确</span></div><div class="line">rvm -v</div><div class="line"><span class="comment"># 用 RVM 安装 Ruby 环境</span></div><div class="line"><span class="comment"># 检查并安装 rvm 安装环境</span></div><div class="line">rvm requirements</div><div class="line"><span class="comment"># 查询 Ruby 版本</span></div><div class="line">rvm list known</div><div class="line"><span class="comment"># 安装 Ruby</span></div><div class="line">rvm install 2.4.0</div><div class="line"><span class="comment"># 指定 2.4.0 版本的 Ruby 为系统默认版本</span></div><div class="line">rvm use 2.4.0 --default</div><div class="line"><span class="comment"># 安装 Bundler</span></div><div class="line">gem install bundler</div></pre></td></tr></table></figure>
<h2 id="搭建-npm-私服-sinopia"><a href="#搭建-npm-私服-sinopia" class="headerlink" title="搭建 npm 私服 sinopia"></a>搭建 npm 私服 sinopia</h2><p><a href="https://github.com/rlidwka/sinopia" target="_blank" rel="external">sinopia</a> 是一个零配置的私有的带缓存（镜像）功能的 npm 包管理服务。</p>
<h3 id="安装-sinopia"><a href="#安装-sinopia" class="headerlink" title="安装 sinopia"></a>安装 sinopia</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i -g sinopia</div></pre></td></tr></table></figure>
<h3 id="安装-pm2"><a href="#安装-pm2" class="headerlink" title="安装 pm2"></a>安装 pm2</h3><p><a href="http://pm2.keymetrics.io/" target="_blank" rel="external">pm2</a> 是 Node 的进程管理器，能够为 Node 程序提供 Daemon 守护，方便的监控 Node 进程（CPU、内存、log、uptime）。用来托管 sinopia 非常好用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 安装</span></div><div class="line">npm install -g pm2</div><div class="line"><span class="comment"># 启动 sinopia</span></div><div class="line">pm2 start $(<span class="built_in">which</span> sinopia)</div><div class="line"><span class="comment"># 开机自启动</span></div><div class="line">pm2 startup</div></pre></td></tr></table></figure>
<p>sinopia 默认端口为 4873</p>
<h3 id="客户端安装-nrm-方便查看及切换-npm-registry"><a href="#客户端安装-nrm-方便查看及切换-npm-registry" class="headerlink" title="客户端安装 nrm 方便查看及切换 npm registry"></a>客户端安装 nrm 方便查看及切换 npm registry</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 安装 nrm</span></div><div class="line">npm install -g nrm</div><div class="line"><span class="comment"># 添加 npm 镜像地址</span></div><div class="line">nrm add &lt;registry&gt; &lt;url&gt;</div><div class="line"><span class="comment"># 设置镜像地址</span></div><div class="line">nrm use &lt;registry&gt;</div></pre></td></tr></table></figure>
<p>参考</p>
<ul>
<li><p><a href="http://releases.ubuntu.com/16.04/" target="_blank" rel="external">Ubuntu 官方镜像列表</a></p>
</li>
<li><p><a href="https://cn.ultraiso.net/" target="_blank" rel="external">UltraISO</a></p>
</li>
<li><p><a href="https://linux.cn/article-1471-1.html" target="_blank" rel="external">在MAC下使用ISO制作Linux的安装USB盘</a></p>
</li>
<li><p><a href="http://www.jb51.net/article/91841.htm" target="_blank" rel="external">Ubuntu Server 16.04 LTS 上安装 LAMP图解教程</a></p>
</li>
<li><p><a href="http://www.cnblogs.com/lexus/archive/2012/03/26/2418809.html" target="_blank" rel="external">Install ZSH shell on Ubuntu</a></p>
</li>
<li><p><a href="http://ohmyz.sh/" target="_blank" rel="external">oh-my-zsh</a></p>
</li>
<li><p><a href="https://github.com/creationix/nvm" target="_blank" rel="external">nvm</a></p>
</li>
<li><p><a href="https://rvm.io/" target="_blank" rel="external">rvm</a></p>
</li>
<li><p><a href="http://www.cnblogs.com/LittleSix/p/6053549.html" target="_blank" rel="external">用sinopia搭建npm私服</a></p>
</li>
<li><p><a href="https://ruby-china.org/wiki/install_ruby_guide" target="_blank" rel="external">如何快速正确的安装 Ruby, Rails 运行环境</a></p>
</li>
</ul>

  </main>
  <!-- navigation -->
  
<nav class="post-nav">
  
  <a href="/2017/03/22/welcome-markdown-it/" class="post-nav--link">
    <strong class="post-nav--caption">上一篇</strong>
    
    <div class="post-nav--title">
      欢迎！让我们愉快的 markdown 吧
    </div>
    
  </a>
  
  
  <a href="/2017/03/13/writing-maintainable-css/" class="post-nav--link">
    <strong class="post-nav--caption">下一篇</strong>
    
    <div class="post-nav--title">
      编写可维护的CSS
    </div>
    
  </a>
  
</nav>

  <!-- footer -->
  
</article>
<aside class="side-bar">
  <div class="side-bar--wrapper">
    
<nav class="post-nav">
  
  <a href="/2017/03/22/welcome-markdown-it/" class="post-nav--link">
    <strong class="post-nav--caption">上一篇</strong>
    
  </a>
  
  
  <a href="/2017/03/13/writing-maintainable-css/" class="post-nav--link">
    <strong class="post-nav--caption">下一篇</strong>
    
  </a>
  
</nav>

    <!-- toc -->
    <ul class="toc"><li class="toc--item"><a title="下载ISO镜像，刻录U盘" class="toc--item--anchor" href="#下载ISO镜像，刻录U盘" data-depth="0"><span class="toc--number">1</span>下载ISO镜像，刻录U盘</a></li><li class="toc--item"><a title="安装 Ubuntu Server，预装 OpenSSH Server" class="toc--item--anchor" href="#安装-Ubuntu-Server，预装-OpenSSH-Server" data-depth="0"><span class="toc--number">2</span>安装 Ubuntu Server，预装 OpenSSH Server</a></li><li class="toc--item"><a title="安装 zsh" class="toc--item--anchor" href="#安装-zsh" data-depth="0"><span class="toc--number">3</span>安装 zsh</a></li><li class="toc--item"><a title="安装配置 Node 环境" class="toc--item--anchor" href="#安装配置-Node-环境" data-depth="0"><span class="toc--number">4</span>安装配置 Node 环境</a></li><li class="toc--item"><a title="配置 Ruby 环境" class="toc--item--anchor" href="#配置-Ruby-环境" data-depth="0"><span class="toc--number">5</span>配置 Ruby 环境</a></li><li class="toc--item"><a title="搭建 npm 私服 sinopia" class="toc--item--anchor" href="#搭建-npm-私服-sinopia" data-depth="0"><span class="toc--number">6</span>搭建 npm 私服 sinopia</a></li><li class="toc--item"><a title="安装 sinopia" class="toc--item--anchor" href="#安装-sinopia" data-depth="1"><span class="toc--number">6.1</span>安装 sinopia</a></li><li class="toc--item"><a title="安装 pm2" class="toc--item--anchor" href="#安装-pm2" data-depth="1"><span class="toc--number">6.2</span>安装 pm2</a></li><li class="toc--item"><a title="客户端安装 nrm 方便查看及切换 npm registry" class="toc--item--anchor" href="#客户端安装-nrm-方便查看及切换-npm-registry" data-depth="1"><span class="toc--number">6.3</span>客户端安装 nrm 方便查看及切换 npm registry</a></li></ul>
  </div>
</aside>
      </div>
    </main>
    <footer class="site--footer">
  <div class="wrapper">
    <h2 class="footer--heading">天枢</h2>
    <div class="footer-col-wrapper">
    
      <div class="footer-col footer-col---3">
        <ul class="slash-list">
          <li>他强由他强，清风拂山岗</li>
          <li>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">
              <img alt="知识共享许可协议" style="border-width: 0" src="https://i.creativecommons.org/l/by-nc-nd/3.0/80x15.png" />
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>
    <script src="/blog/js/manifest.js"></script>
<script src="/blog/js/vendor.js"></script>
<script src="/blog/js/main.js"></script>
  </body>
</html>
